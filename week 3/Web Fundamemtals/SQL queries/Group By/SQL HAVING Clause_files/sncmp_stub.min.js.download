"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,t,i,o,a,r){var s=e._snigelConfig;if(s){try{i=s.settings.adconsent.objName}catch(e){}o="__"+i}var l,c=void 0;try{var u=function(n,t,i,o){e.console[n]&&L.level>=t&&console[n].apply(console,function(e,n,t){return e=[].slice.call(e),n&&e.unshift(n),e.unshift("display: inline-block; color: #fff; background: "+t+"; padding: 1px 4px; border-radius: 3px;"),e.unshift("%cAdConsent"),e}(i,n.toUpperCase()+":",o))},p=function(e,n){return{region:e,loaded:!1,applies:c,version:n,status:"stub"}},f=function(n,t){return function(i,o,a){e[n](i,t?c:o,a,o)}},d=function(e,n,t){return!n||n===e.version||(b(t,null,!1),I("Wrong framework version detected: "+n),!1)},g=function(e,n,t){var i=N.applies?c:N.applies,o={tcString:c,tcfPolicyVersion:2,cmpId:229,cmpVersion:47,gdprApplies:i,eventStatus:!1===i?"tcloaded":c,cmpStatus:N.status,listenerId:n,isServiceSpecific:!0,useNonStandardStacks:!1,publisherCC:A.publisherCC,purposeOneTreatment:!1};I("Sending TCData structure:",o,t),b(t,o,!0)},v=function(e,n,t,i,o){e.queue.push({command:n,version:t,parameter:i,callback:o})},m=function(t,i,o){if(o){var a=t+"Locator";!function t(){if(!e.frames[a]){var i=n.body;if(i){var o=n.createElement("iframe");o.style.display="none",o.name=a,i.appendChild(o)}else setTimeout(t,5)}}();var r=function(n){var i=n.data,o="string"==typeof i;try{var a=(o?JSON.parse(i):i)[t+"Call"];if(a){e[t](a.command,a.version,function(e,i){try{if(n&&n.source&&n.source.postMessage){var r={};r[t+"Return"]={returnValue:e,success:i===c||i,callId:a.callId},n.source.postMessage(o?JSON.stringify(r):r,"*")}}catch(e){}},a.parameter)}}catch(e){}}}if("function"!==_typeof(e[t])){var s=function(n,a,r,s){var l=e[t];if(l.queue){for(var c in i)if(n===c){var u=!0;(0,i[c])(l,n,a,r,s);break}u||v(l,n,a,s,r)}else l(n,o?a:s,r,s)};e[t]=o?s:function(e,n,t){s(e,null,t,n)},e[t].queue=[],o&&(e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r))}},b=function(e,n,t){e&&e(n,t)},y=function i(o,a,r,s,l){if(P.region!==c){if(!M)if(M=!0,0==P.region)q.dispatchCustomEventConsent(3,3);else if(J){var u=n.createElement("script");u.type="text/javascript",u.src=E.cfg.apiBaseUrl+"/adconsent"+J+".js",u.async=!0,u.charset="utf-8",n.head.appendChild(u)}}else!function(n){var i=null,o=t.getItem("snconsent_geo");if(o){var a=t.getItem("snconsent_geo_exp");if(a)try{parseInt(a)>=(new Date).getTime()&&(i=JSON.parse(e.atob(o)))}catch(e){}}if(i)n(i);else{var r=new XMLHttpRequest;r.open("GET","https://pro.ip-api.com/json/?fields=57354&key=33arzTfj1gigDqW"),r.timeout=5e3,r.onload=function(){var i=r.responseText.toLowerCase();t.setItem("snconsent_geo",e.btoa(i)),t.setItem("snconsent_geo_exp",(new Date).getTime()+36e5),n(JSON.parse(i))},r.onerror=r.ontimeout=function(){n(null)},r.send()}}(function(e){var n=e?e.countrycode:null;"us"===n&&"california"===e.regionname?C(c,c,c,c,2):-1!=="at be bg hr cy cz dk ee fi fr de gr hu is ie it lv li lt lu mt nl no pl pt ro sk si es se gb".indexOf(n)?C(c,c,c,c,1):(n||(V("ErrorGeotargeting"),T("Geotargeting failed")),C(c,c,c,c,0)),i()})},C=function(n,t,i,o,a){if(P.region===c)if(D[a]){for(var s in G){var l=G[s];l.applies=l.region==a,l.applies?J=s:(l.loaded=!0,l.status="loaded")}P.region=a,k("Configured consent region "+D[a]),function(){if(1!==P.region&&S.processListeners(g),2!==P.region){var n=e[r],t=n.queue;if(t){n.queue=[];for(var i=0;i<t.length;i++){var o=t[i];n(o.command,o.version,o.callback,o.parameter)}}}}()}else T("Incorrect consent region "+a)},h=function(e,n,t){return function(i,o,a,r,s){s=!!s,P.region===c&&e.applies===c&&(s?C(i,o,a,r,n):(e.applies=!1,!1===t.applies&&C(i,o,a,r,0)))}},_=function(e,n,t,i,o){U.enabled=o===c||!!o,U.callback=i};!function(){if("function"===_typeof(e.CustomEvent))return!1;function t(e,t){t=t||{bubbles:!1,cancelable:!1,detail:c};var i=n.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}t.prototype=e.Event.prototype,e.CustomEvent=t}();var E=f(o);E.gdpr=f("__tcfapi",!0);var S=E.gdpr;S.listenerId=1,S.tcfListeners=[],S.addEventListener=function(e,n,t){if(d(N,e,n)){I("Adding event listener "+S.listenerId,n);var i={id:S.listenerId++,callback:n||function(){}};S.tcfListeners.push(i),t(null,i.id,i.callback)}},S.removeEventListener=function(e,n,t,i,o){if(d(N,t,i)){I("Removing event listener "+o);for(var a=0;a<S.tcfListeners.length;a++)if(S.tcfListeners[a].id==o)return S.tcfListeners.splice(a,1),void b(i,!0);T("Couldn't find listener id "+o+"."),b(i,!1)}},S.getTCData=function(e,n,t,i){d(N,t,i)&&g(0,0,i)},S.processListeners=function(e){for(var n=S.tcfListeners.slice(),t=0;t<n.length;t++)e(null,n[t].id,n[t].callback)},E.ccpa=f(r,!0),E.version=47,E.cmpId=229,E.cfg={apiBaseUrl:"https://cdn.snigelweb.com/adconsent/47",publisherCC:"US"};var A=E.cfg;E.log={levels:{off:0,error:1,warning:2,info:3,debug:4},level:2,error:function(){u("error",1,arguments,"#ff0000")},warn:function(){u("warn",2,arguments,"#ffe600")},info:function(){u("info",3,arguments,"#3b88a3")},debug:function(){u("debug",4,arguments,"#808080")}};var L=E.log,I=L.debug,k=L.info,w=L.warn,T=L.error;E.consent={regions:{0:"NONE",1:"GDPR",2:"CCPA"},region:c,api:{__tcfapi:p(1,2),__uspapi:p(2,1)}};var P=E.consent,D=P.regions,G=P.api,N=G.__tcfapi,x=G[r];E.analytics={enabled:!1,callback:c,send:function(e){U.sendEvent(D[P.region],e,Math.floor(performance.now()))},sendEvent:function(n,t,i){(k("Sending analytics event action"+(U.enabled?"":" disabled")+": "+n+", label: "+t+", value: "+i),U.enabled)&&(U.callback||function(n){e.gtag?gtag("event",n.action,{event_category:n.category,event_label:n.label,event_value:n.value}):e.ga?ga("send",{hitType:"event",eventCategory:n.category,eventAction:n.action,eventLabel:n.label,eventValue:n.value,nonInteraction:n.nonInteraction}):w("Unable to find Google Analytics module (gtag or ga).")})({category:"AdConsent",action:n,label:t||n,value:i||0,nonInteraction:!0})}};var U=E.analytics,V=U.send;E.event={fired:{},dispatchCustomEvent:function(e,t,i){i&&O[e]||(O[e]=!0,I("Emitting custom event "+e+" with details: ",t),n.dispatchEvent(new CustomEvent(e,t)))},dispatchCustomEventConsent:function(e,n){var t={0:"N/A",1:"NoConsent",2:"PartialConsent",3:"FullConsent"};V(t[n]),1==P.region&&0!=e&&V("Publisher"+t[e]),q.dispatchCustomEvent("cmpConsentAvailable",{detail:{consentSummary:{mapping:{0:"not available",1:"no consent",2:"partial consent",3:"full consent"},publisherConsent:e,vendorsConsent:n,gdprApplies:N.applies,uspApplies:x.applies}}})}};var q=E.event,O=q.fired,R=(l=e.location.search)?l.replace(/^\?/,"").split("&").reduce(function(e,n){var t=n.split("="),i=t[0],o=t.length>1?t[1]:c;return/\[\]$/.test(i)?(e[i=i.replace("[]","")]=e[i]||[],e[i].push(o)):e[i]=o||"",e},{}):{},j=("true"==R.sn_debug?"debug":null)||("true"==R.adconsent_debug?"debug":null)||R.adconsent_log;if(L.level=L.levels[j]||L.level,e[i])return void T("Stub is tried to load again!");if(e.__tcfapi||e[r])return void w("A cmp is already registered in the system. AdConsent is stopping.");e[i]=E;var J=c,M=!1;m("__tcfapi",{start:y,setGDPRApplies:h(N,1,x),enableGoogleAnalytics:_,ping:function(e,n,t,i){var o={gdprApplies:N.applies,cmpLoaded:N.loaded,cmpStatus:N.status,displayStatus:"disabled",apiVersion:"2.0",cmpVersion:47,cmpId:229,gvlVersion:c,tcfPolicyVersion:2};b(i,o,!0)},getTCData:S.getTCData,addEventListener:function(e,n,t,i,o){S.addEventListener(t,i,g)},removeEventListener:S.removeEventListener},!0),m(r,{start:y,setUSPApplies:h(x,2,N),enableGoogleAnalytics:_,getUSPData:function(e,n,t,i,o){!1===x.applies?d(x,t,i)&&b(i,{version:1,uspString:"1---"},!0):v(e,n,t,o,i)}},!0),m(o,{start:y,setPublisherCC:function(e,n,t,i,o){"string"!=typeof o||2!=o.length?b(i,{message:"Invalid publisher country code detected. Ignoring call."},!1):(A.publisherCC=o.toUpperCase(),b(i,null,!0))},setConsentRegion:C,setGDPRApplies:h(N,1,x),setUSPApplies:h(x,2,N),enableGoogleAnalytics:_})}catch(e){if(s&&s.passThroughException)throw e;console.error(e)}}(window,document,localStorage,"adconsent","__cmp",0,"__uspapi");